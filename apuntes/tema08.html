<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Guillermo Jiménez Díaz (gjimenez@ucm.es)" />
  <meta name="author" content="Alberto Díaz (albertodiaz@fdi.ucm.es)" />
  <title>Análisis de Redes Sociales</title>
  <style type="text/css">code{white-space: pre;}</style>
  <script src="../pandownTemplates/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
</head>
<body>
<div id="header">
<h1 class="title">Análisis de Redes Sociales</h1>
<h2 class="author">Guillermo Jiménez Díaz (gjimenez@ucm.es)</h2>
<h2 class="author">Alberto Díaz (albertodiaz@fdi.ucm.es)</h2>
<h3 class="date">5 de diciembre de 2014</h3>
</div>
<h1 id="prefacio" class="unnumbered">Prefacio</h1>
<p>Estos son los apuntes de la asignatura Análisis de Redes Sociales, impartida en la Facultad de Informática de la Universidad Complutense de Madrid por los profesores Guillermo Jiménez Díaz y Alberto Díaz, del Departamento de Ingeniería del Software e Inteligencia Artificial.</p>
<p>Este material ha sido desarrollado a partir de distintas fuertes, destacando como referencia principal el libro <em>Network Science</em> de Laszlo Barabasi, el material de la asignatura <em>Social Network Analysis</em>, impartido por Lada Adamic a través de Coursera, y las transparencias de la asignatura Redes y Sistemas Complejos, creadas por Óscar Cordón García de la Universidad de Granada.</p>
<p>Para este capítulo se ha utilizado, adicionalmente, material de los libros <em>Analyzing the Social Web</em> de Jennifer Goldbeck (capítulo 10) y <em>Networks, Crowds, and Markets</em> de Easley y Kleinberg (capítulos 19 y 21).</p>
<p>Este obra está bajo una <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">licencia de Creative Commons Reconocimiento-NoComercial-CompartirIgual 4.0 Internacional</a>.</p>
<p></p>
<h1 id="tema-8-propagación-y-difusión-en-redes" class="unnumbered">Tema 8: Propagación y Difusión en redes</h1>
<p>Las conexiones presentes en la redes permiten modelar la propagación de todo tipo de elementos entre sus nodos: enfermedades, vídeos virales, rumores, virus informáticos, productos, anuncios, información… En general, la mayoría de estos modelos de propagación son similares independientemente de lo que se pretenda propagar.</p>
<p>Existe desde hace muchos años un estudio intenso en la propagación de enfermedades. El conocimiento de cómo se propagan a través de una red de individuos nos puede servir para entender cómo se puede propagar cualquier otro tipo de información en dicha red. Por este motivo, en este tema vamos a hablar los modelos fundamentales de propagación de enfermedades y vamos a estudiar como aplicarlos a las redes, analizando cómo la estructura de la misma afecta enormemente a estos fenómenos de propagación.</p>
<h2 id="modelos-de-contagio-simple"><span class="header-section-number">0.1</span> Modelos de contagio simple</h2>
<p>La epidemiología es la ciencia que estudia la salud y control de enfermedades en una población, así como la predicción de expansión de dichas enfermedades. El modelo general epidemiológico se basa en dos hipótesis:</p>
<ul>
<li><strong>Modelo compartimental</strong>: cada individuo puede estar en un determinado estado dependiendo de en qué fase se la enfermedad se encuentra. El modelo más simple, que será el que usemos, supone 3 estados:
<ul>
<li><strong>Susceptible (S)</strong>: El individuo está sano y puede ser infectado.</li>
<li><strong>Infectado (I)</strong>: El individuo está infectado y puede contagiar a otros individuos.</li>
<li><strong>Recuperado (R)</strong>: El individuo estuvo contagiado pero se ha recuperado y no puede volver a ser contagiado. También se utiliza para modelar los individuos que no han superado la enfermedad y que han muerto a causa de ella.</li>
</ul></li>
<li><strong>Mezcla homogénea</strong>: Cualquier individuo tiene la misma probabilidad de estar en contacto con un individuo infectado. Esta hipótesis puede interpretarse como que la red de contactos está modelada mediante una red aleatoria aunque, realmente, elimina la necesidad de conocer los contactos de los individuos y se puede asumir que cualquiera puede infectar a cualquiera.</li>
</ul>
<p>Los modelos generados a partir de estas hipótesis observan el comportamiento (los cambios de estado) de los individuos a lo largo del tiempo para predecir el alcance y la velocidad de propagación de la enfermedad, entre otras. A continuación vamos a estudiar la dinámica de los modelos de propagación clásicos, que combinan las letras del modelo compartimental.</p>
<h3 id="modelo-si"><span class="header-section-number">0.1.1</span> Modelo SI</h3>
<p>Es el modelo más sencillo, en el que un individuo susceptible puede quedar infectado pero, una vez infectado, no se puede recuperar. Un ejemplo de este tipo es el virus del VIH (o los zombies).</p>
<div class="figure">
<img src="../images/tema08/modeloSI.png" alt="Esquema del Modelo SI" /><p class="caption">Esquema del Modelo SI</p>
</div>
<p>En este modelo suponemos que cada individuo tiene <span class="math">\(\langle k \rangle\)</span> contactos (enlaces) y que en cada instante de tiempo la enfermedad se propaga con una tasa de contagio <span class="math">\(\delta\)</span>, que representa la probabilidad de que un individuo infectado transmita la enfermedad a uno susceptible.</p>
<p>Para entender la dinámica del modelo vamos a definir los siguientes parámetros.</p>
<ul>
<li><span class="math">\(N\)</span> es el tamaño de la población y es <span class="math">\(N = S(t) + I(t)\)</span>, donde <span class="math">\(S(t)\)</span> (número de individuos que están en el estado susceptible en el tiempo <span class="math">\(t\)</span>) e <span class="math">\(I(t)\)</span> (número de individuos que están en el estado infectado en el tiempo <span class="math">\(t\)</span>).</li>
<li>En lugar de manejar valores absolutos vamos a manejar las proporciones o ratios de susceptibles e infectados. De este modo <span class="math">\(s(t) = s = \frac{S(t)}{N}\)</span> representa la proporción de individuos susceptibles de la población mientras que <span class="math">\(i(t) = i = \frac{I(t)}{N}\)</span>.</li>
<li><span class="math">\(\beta\)</span> es la tasa de transmisión que incluye el grado medio de cada individuo, esto es, <span class="math">\(\beta = \delta \cdot \langle k \rangle\)</span>.</li>
</ul>
<p>La ecuación diferencial que modela la tasa a la que varía el número de infectados es:</p>
<p><span class="math">\[\frac{di}{dt} = i \cdot \beta  \cdot s = i \cdot \beta \cdot (1-i)\]</span></p>
<p>En cada momento de tiempo, la proporción de infectados es la cantidad de infectados <span class="math">\(i\)</span> más la proporción de individuos susceptibles que pueden ser infectados <span class="math">\(\beta \cdot s\)</span>.</p>
<p>Si resolvemos esta ecuación nos queda que:</p>
<p><span class="math">\[i = \frac{i_0exp(\beta t)}{1-i_0+i_0exp(\beta t)}\]</span></p>
<p>donde <span class="math">\(i_0\)</span> representa a la tasa de infectados en el instante <span class="math">\(t=0\)</span>. De la representación gráfica de esta función extraemos las siguientes conclusiones:</p>
<ul>
<li>Inicialmente el número de infectados crece exponencialmente.</li>
<li>A medida que el número de infectados se hace mayor, hay menos individuos susceptibles por lo que el crecimiento de infectados se ralentiza y la infección termina cuando todos están infectados (<span class="math">\(i(t \to \infty)= 1\)</span>).</li>
</ul>
<div class="figure">
<img src="../images/tema08/graficaSI.png" alt="Representación de la proporción de infectados en el Modelo SI" /><p class="caption">Representación de la proporción de infectados en el Modelo SI</p>
</div>
<h3 id="modelo-sis"><span class="header-section-number">0.1.2</span> Modelo SIS</h3>
<p>Es similar al anterior salvo en que, en este modelo, los individuos infectados se pueden recuperar, volviendo al estado susceptible. Un ejemplo de este modelo es el resfriado común.</p>
<div class="figure">
<img src="../images/tema08/modeloSIS.png" alt="Esquema del Modelo SIS" /><p class="caption">Esquema del Modelo SIS</p>
</div>
<p>Para este modelo necesitamos, además de los parámetros del anterior, la tasa de recuperación <span class="math">\(\mu\)</span>, que representa la proporción de infectados que se recuperan y pasan al estado susceptible en cada instante de tiempo.</p>
<p>En este caso, la ecuación diferencial que modela la tasa a la que varía el número de infectados es:</p>
<p><span class="math">\[\frac{di}{dt} = i \cdot \beta  \cdot s - \mu \cdot i=  i \cdot \beta \cdot (1-i) - \mu \cdot i\]</span></p>
<p>En cada momento de tiempo, la proporción de infectados es la cantidad de infectados <span class="math">\(i\)</span> más la proporción de individuos susceptibles que pueden ser infectados <span class="math">\(\beta \cdot s\)</span> menos la proporción de individuos infectados que se pueden recuperar <span class="math">\(\mu \cdot i\)</span>.</p>
<p>La resolución de esta ecuación nos da el siguiente resultado:</p>
<p><span class="math">\[i = \Big(1- \frac{\mu}{\beta}\Big) \frac{C \cdot e^{(\beta - \mu)t}}{1 + C \cdot e ^{(\beta -\mu)t}}\]</span></p>
<p><span class="math">\[C= \frac{\beta \cdot i_0}{\beta - \mu - \beta \cdot i_0}\]</span></p>
<p>En este caso, las conclusiones que podemos extraer de la representación gráfica de la función son las siguientes:</p>
<ul>
<li>Como la recuperación es posible, el sistema alcanza un <em>estado endémico</em> en el que la tasa de infectados es constante:</li>
</ul>
<p><span class="math">\[i(\infty) = 1 - \frac{\beta}{\mu}\]</span></p>
<p>En este estado endémico, la proporción de infectados no varía con el tiempo y sólo se produce cuando la tasa de recuperación es inferior a la tasa de transmisión (<span class="math">\(\mu &lt; \beta\)</span>)</p>
<div class="figure">
<img src="../images/tema08/graficaSIS.png" alt="Representación de la proporción de infectados en el Modelo SIS" /><p class="caption">Representación de la proporción de infectados en el Modelo SIS</p>
</div>
<ul>
<li>En caso de que la tasa de recuperación sea mayor que la tasa de transmisión (<span class="math">\(\mu &gt; \beta\)</span>) entonces llegado a un determinado punto la proporción de infectados comienza a decrecer exponencialmente, alcanzado un estado libre de enfermedad, en la que todos los individuos se han recuperado y no hay infectados.</li>
</ul>
<p>El ritmo reproductivo básico (<span class="math">\(R_0\)</span>) representa el número promedio de individuos susceptibles que serán infectados por un individuo infectado:</p>
<p><span class="math">\[R_0 = \frac{\beta}{\mu}\]</span></p>
<p>Tal y como hemos visto antes, si <span class="math">\(R_0&lt;1\)</span> entonces la enfermedad termina desapareciendo de la población. Si <span class="math">\(R_0&gt;0\)</span> entonces la enfermedad se propagará. Cuanto mayor sea <span class="math">\(R_0\)</span>, más rápido es el proceso de propagación de la enfermedad. Por ejemplo, el sarampión (que se contagia por el aire) tiene un <span class="math">\(R_0= 12-18\)</span> mientras que la gripe tiene un <span class="math">\(R_0 = 2-3\)</span>.</p>
<h3 id="modelo-sir"><span class="header-section-number">0.1.3</span> Modelo SIR</h3>
<p>En este modelo, los individuos infectados no vuelven a ser susceptibles sino que desarrollan una inmunidad a la enfermedad (o mueren) y pasan a un estado recuperado<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a> en el que no afectan al modelo de propagación: no pueden ser infectados ni pueden infectar a otros.</p>
<div class="figure">
<img src="../images/tema08/modeloSIR.png" alt="Esquema del Modelo SIR" /><p class="caption">Esquema del Modelo SIR</p>
</div>
<p>En este modelo <span class="math">\(\mu\)</span> representa la tasa de recuperación que, a diferencia del anterior, es la tasa de individuos infectados que pasan al estado recuperado. Para este modelo, la población es la suma de los infectados, susceptibles y recuperados(<span class="math">\(R(t)\)</span>), por lo que la proporción de infectados es <span class="math">\(i = 1-s-r\)</span>.</p>
<p>Las ecuaciones diferenciales de este modelo son las siguientes:</p>
<p><span class="math">\[\frac{di}{dt} = \beta \cdot i \cdot s - \mu \cdot i \text{;  }\frac{ds}{dt} = -\beta \cdot i \cdot s\text{;  }\frac{dr}{dt} = \mu \cdot i\]</span></p>
<p>En este caso el cálculo es más complejo pero podemos llegar a la siguiente representación gráfica de las tres funciones:</p>
<div class="figure">
<img src="../images/tema08/graficaSIR.png" alt="Representación de la proporción de infectados, susceptibles y recuperados en el Modelo SIR" /><p class="caption">Representación de la proporción de infectados, susceptibles y recuperados en el Modelo SIR</p>
</div>
<ul>
<li>Cuando <span class="math">\(\beta&gt;\mu\)</span> la proporción de infectados crece hasta un pico máximo y luego decrece hasta valer 0.</li>
<li>La proporción de susceptibles decrece de forma monótona. Aunque satura, no llega nunca a 0 ya que cuando <span class="math">\(i \to 0\)</span> ya no hay individuos que puedan infectar. Esto implica que los individuos que se mantienen susceptibles hasta fases avanzadas pueden no llegar a infectarse nunca.</li>
<li>La proporción de recuperados crece de manera monótona. De manera similar a los susceptibles, la proporción de recuperados nunca llega a valer 1. Su valor asintótico representa el número de individuos afectados y se calcula como:</li>
</ul>
<p><span class="math">\[r = 1- s_0 \cdot e^{-\beta \frac{r}{\mu}}\]</span></p>
<p>Las condiciones iniciales más habituales son:</p>
<p><span class="math">\[i_0 = \frac{c}{N}\text{;  }s_0 = 1- \frac{c}{N}\text{;  }r_0 = 0\]</span></p>
<h3 id="comportamientos-importantes-de-los-modelos-epidemiológicos"><span class="header-section-number">0.1.4</span> Comportamientos importantes de los modelos epidemiológicos</h3>
<p>Existen principalmente dos comportamientos destacables en estos modelos:</p>
<h4 id="comportamiento-temprano." class="unnumbered">Comportamiento temprano.</h4>
<p>Es el patrón de comportamiento en las fases iniciales. Es importante para saber cuánto tiempo tenemos para el desarrollo de vacunas e intervenciones médicas. La mejor forma de detener o contener la epidemia en esta fase es mediante vacunación temprana o la cuarentena.</p>
<p>En todos los modelos el número de infectados en la fase temprana es bajo pero crece exponencialmente. Generalmente, el modelo SI es el más relevante para describir este comportamiento.</p>
<h4 id="comportamiento-tardío." class="unnumbered">Comportamiento tardío.</h4>
<p>Es el patrón de comportamiento en las fases más avanzadas de la epidemia (cuando <span class="math">\(t \to \infty\)</span>). Permite predecir el alcance, número de infectados, etc.</p>
<p>En este caso, cada modelo realiza una predicción distinta:</p>
<ul>
<li>En el modelo SI todos terminan infectados.</li>
<li>En el modelo SIS se alcanza un estado endémico en el que una proporción de la población queda infectada (<span class="math">\(R_0&gt;1\)</span>) o en el que la enfermedad desaparece (<span class="math">\(R_0&lt;1\)</span>)</li>
<li>En el modelo SIR todos terminan recuperados (en el estado susceptible o recuperado, pero no infectados)</li>
</ul>
<p>En resumen, las características básicas de los modelos epidemiológicos son los siguientes:</p>
<div class="figure">
<img src="../images/tema08/resumenModelos.png" alt="Características básicas de los modelos epidemiológicos" /><p class="caption">Características básicas de los modelos epidemiológicos</p>
</div>
<p>Tal y como hemos indicado, estos modelos no tienen en cuenta la red de contactos ya que suponen que hay una mezcla homogénea. Realmente, las epidemias se propagan a través de los contactos de las personas, es decir, a través de los enlaces de su red social. Por tanto, hay que tener en cuenta el papel de la red en el proceso epidémico. Tal y como veremos a continuación, la estructura de la red modificará el comportamiento de estos modelos simples.</p>
<h2 id="modelos-de-contagio-basados-en-redes"><span class="header-section-number">0.2</span> Modelos de contagio basados en redes</h2>
<p>Los modelos de contagio basados en redes se comportan de manera similar a los vistos hasta ahora salvo que solo se tendrán en cuenta los contactos definidos por la red, en lugar de suponer que cualquier individuo puede estar en contacto con cualquier otro.</p>
<p>En los modelos basados en redes, <span class="math">\(\beta\)</span> es el <strong>ratio de transmisión</strong> y representará la probabilidad de contagio de un nodo infectado a otro susceptible que esté en contacto con él (hay un enlace entre los dos nodos).</p>
<p>En general, la simulación de estos procesos suele ser más sencilla que la resolución analítica de los modelos en redes complejas. Por ejemplo, una forma sencilla de simular un proceso de contagio simple sería la siguiente:</p>
<ol style="list-style-type: decimal">
<li>Definimos una red de <span class="math">\(N\)</span> nodos y <span class="math">\(L\)</span> enlaces. Inicialmente todos los nodos están en el estado S.</li>
<li>En <span class="math">\(t_0\)</span> ponemos una pequeña fracción <span class="math">\(i_0\)</span> de nodos (o solo 1), en el estado I.</li>
<li>En cada paso de tiempo, hacemos que cada uno de los nodos en el estado I<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a> propague la infección a cada uno de sus vecinos en estado S con probabilidad <span class="math">\(\beta\)</span> (al igual que en los modelos de red aleatoria o Barabasi-Albert, generamos un número aleatorio <span class="math">\(a\)</span> y propagamos si <span class="math">\(a&lt;\beta\)</span>).</li>
<li>En caso de utilizar un modelo SIR o SIS, haremos que los nodos en estado I puedan pasar al estado R (o S, dependiendo del modelo), con una probabilidad <span class="math">\(\mu\)</span>.</li>
</ol>
<p>Existen alternativas más complejas (y más realistas), basadas en técnicas de modelado social o modelado basado en agentes, en los que cada individuo (nodo) se modela como un agente que puede incluir sus propias características individuales y que pueden generar comportamientos emergentes. Se pueden incluir procesos estocásticos de actualización de estados que simulan eventos aleatorios que pueden ocurrir en los procesos dinámicos.</p>
<p>Dependiendo del fenómeno de difusión que queramos simular tendremos que decidir qué red tendremos que modelar. Como ejemplo podemos ver que redes se usan para modelar distintos fenómenos en la siguiente tabla:</p>
<div class="figure">
<img src="../images/tema08/tabla.png" alt="Modelados de fenómenos de contagio y redes utilizadas" /><p class="caption">Modelados de fenómenos de contagio y redes utilizadas</p>
</div>
<p>La estructura de la red, su evolución a lo largo del tiempo y su uso están interrelacionados y se deben estudiar conjuntamente. La topología de la red va a influir en el proceso de contagio o difusión:</p>
<ul>
<li>¿A qué estado convergen los nodos?</li>
<li>¿Cuánto se tarda en llegar a dicho estado?</li>
<li>¿Cómo se puede inmunizar un sistema complejo con una topología de red concreta?</li>
</ul>
<p>Antes de entrar en los detalles más analíticos de los procesos de difusión vamos a utilizar los modelos que conocemos hasta ahora y las simulaciones en NetLogo para observar el comportamiento de las epidemias teniendo en cuenta la estructura de la red.</p>
<h3 id="redes-aleatorias"><span class="header-section-number">0.2.1</span> Redes aleatorias</h3>
<p>Vamos a simular un modelo SI en una red aleatoria. Si utilizamos el simulador de <a href="http://www.ladamic.com/netlearn/NetLogo501/ERDiffusion.html">Difusión en una red aleatoria</a><a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a> podemos ver la influencia de la densidad de la red en los procesos de contagio.</p>
<div class="figure">
<img src="../images/tema08/contagioER.png" alt="Influencia de la densidad de la red aleatoria en los procesos de contagio" /><p class="caption">Influencia de la densidad de la red aleatoria en los procesos de contagio</p>
</div>
<p>Como se puede ver en la simulación, la densidad de la red afecta a la velocidad de infección y al número de individuos infectados: a mayor densidad, mayor es el número de individuos infectados y mayor es la velocidad de propagación.</p>
<p>Además, se puede ver que si partimos de un único nodo, sólo se infectarán los nodos que pertenecen a la misma componente conexa. Recordemos algunas redes reales tienen una componente gigante y muchas componentes pequeñas por lo que la epidemia se extiende en mayor o menor medida dependiendo de la localización del nodo inicial. La probabilidad de que un nodo pertenezca a la componente gigante se <span class="math">\(\frac{N_G}{N}\)</span>.</p>
<h3 id="redes-libres-de-escala"><span class="header-section-number">0.2.2</span> Redes libres de escala</h3>
<p>A continuación simularemos un modelo SI en una red libre de escala creada siguiendo el modelo de Barabasi-Albert. Si recordamos, para que se presente la propiedad de ser libre de escala es necesario que exista enlace preferencial. Por este motivo vamos a ver el efecto de la existencia de enlace preferencial en estas redes. Para ello usaremos el simulador de <a href="http://www.ladamic.com/netlearn/NetLogo501/BADiffusion.html">Difusión en una red libre de escala</a>.</p>
<div class="figure">
<img src="../images/tema08/contagioBA.png" alt="Influencia del enlace preferencial (redes libres de escala) en los procesos de contagio" /><p class="caption">Influencia del enlace preferencial (redes libres de escala) en los procesos de contagio</p>
</div>
<p>En este caso podemos observar que el enlace preferencial favorece el contagio. Esto se debe a que el enlace preferencial posibilita la existencia de Hubs, que son los responsables de ayudar a difundir más rápidamente la infección.</p>
<h3 id="redes-de-watts-strogatz"><span class="header-section-number">0.2.3</span> Redes de Watts-Strogatz</h3>
<p>En este caso simularemos un modelo SI en una red creada siguiendo el modelo de Watts-Strogatz para estudiar la influencia de los “atajos” o enlaces débiles en el contagio sobre esta red. Para ello vamos a usar el simulador <a href="http://www.ladamic.com/netlearn/NetLogo4/SmallWorldDiffusionSIS.html">Difusión en un mundo pequeño</a> y modificaremos la probabilidad de reasignación de enlaces <span class="math">\(p\)</span> para ver su efecto en la propagación.</p>
<div class="figure">
<img src="../images/tema08/contagioSW.png" alt="Influencia de los enlaces débiles en los procesos de contagio" /><p class="caption">Influencia de los enlaces débiles en los procesos de contagio</p>
</div>
<p>Podemos observar que los enlaces débiles provocan que aumente la velocidad de la infección ya que, en el mismo tiempo, se aprecia un mayor número de nodos infectados.</p>
<h3 id="soluciones-analíticas"><span class="header-section-number">0.2.4</span> Soluciones analíticas</h3>
<p>Podemos estudiar de manera analítica el comportamiento temprano y tardío de los modelos de contagio SI y SIR en redes complejas. Para ello es necesario hacer una aproximación conocida como la <strong>aproximación por bloques de grados</strong>: distinguimos distintos bloques de nodos basados en el grado que tienen y asumimos que todos los nodos en el mismo bloque (y, por tanto, con el mismo grado) son estadísticamente equivalentes. Podemos representarlo gráficamente con la siguiente figura:</p>
<div class="figure">
<img src="../images/tema08/bloqueGrado.png" alt="Aproximación por bloques de grados" /><p class="caption">Aproximación por bloques de grados</p>
</div>
<p>De esta forma definimos la fracción de nodos con grado <span class="math">\(k\)</span> infectados como:</p>
<p><span class="math">\[i_k  = \frac{I_k}{N_k}\]</span></p>
<p>La suma de los diferentes <span class="math">\(i_k\)</span> para todos los grados dan la fracción total de nodos infectados <span class="math">\(i\)</span>.</p>
<h4 id="modelo-si-1" class="unnumbered">Modelo SI</h4>
<p>De acuerdo a lo anterior, definimos la ecuación diferencial para el modelo SI que modela la tasa de infectados para cada grado <span class="math">\(k\)</span> por separado:</p>
<p><span class="math">\[\frac{di_k}{dt} = \beta (1-i_k(t))k \Theta_k(t)\]</span></p>
<p>En este caso:</p>
<ul>
<li>El grado medio ha sido sustituido por el grado real <span class="math">\(k\)</span></li>
<li><span class="math">\(\Theta_k(t)\)</span> es una función de densidad que representa la fracción de vecinos que están infectados para un nodo de grado <span class="math">\(k\)</span>.</li>
<li>Necesitaremos definir <span class="math">\(k_{max}\)</span> ecuaciones.</li>
</ul>
<p>La función de densidad podemos aproximarla de la siguiente forma:</p>
<p><span class="math">\[\Theta_k(t) \approx \Theta(t) = \frac{\sum_{k&#39;}(k&#39;-1)\cdot P(k&#39;) \cdot i_{k&#39;}(t)}{\langle k \rangle}\]</span></p>
<p>Durante el comportamiento temprano, es decir, cuando <span class="math">\(i\)</span> es pequeño podemos aproximarlo de la siguiente forma:</p>
<p><span class="math">\[\frac{di_k}{dt} = \beta k i_0 \frac{\langle k \rangle-1}{\langle k \rangle} e^{t/\tau}\]</span></p>
<p>Y podemos obtener la fracción de nodos infectados de grado <span class="math">\(k\)</span> y el total de nodos infectados:</p>
<p><span class="math">\[i_k = i_0 (1+ \frac{k \langle k \rangle -1}{\langle k^2 \rangle - \langle k \rangle}(e^{t/\tau}-1))\]</span></p>
<p><span class="math">\[i = i_0 (1+ \frac{\langle k \rangle^2 - \langle k \rangle}{\langle k^2 \rangle - \langle k \rangle}(e^{t/\tau}-1))\]</span></p>
<p><span class="math">\(\tau\)</span> representa el periodo de incubación, que es la cantidad de tiempo que requiere la epidemia para crecer. Cuando menor es <span class="math">\(\tau\)</span>, más rápido se propaga la enfermedad. Según las ecuaciones anteriores se puede calcular de la siguiente forma:</p>
<p><span class="math">\[\tau = \frac{\langle k \rangle}{\beta(\langle k^2 \rangle - \langle k \rangle)}\]</span></p>
<p>De estas ecuaciones podemos obtener las siguientes conclusiones:</p>
<ul>
<li>Cuanto mayor sea el grado de un nodo mayor es la probabilidad de que ese nodo sea infectado.</li>
<li>El periodo de incubación depende de la estructura de la red y de los momentos de primer y segundo orden de la distribución de grados (<span class="math">\(\langle k \rangle\)</span> y <span class="math">\(\langle k^2 \rangle\)</span>), respectivamente.</li>
<li>En una red aleatoria el periodo de incubación depende de la densidad de la red, de modo que la epidemia se propaga más rápido cuanto más densa sea ésta (mayor <span class="math">\(\langle k \rangle\)</span>).</li>
</ul>
<p><span class="math">\[\tau_{ER} = \frac{1}{\beta(\langle k \rangle)} \text{ ya que } \langle k^2 \rangle = \langle k \rangle (\langle k \rangle - 1)\]</span></p>
<ul>
<li>En una red libre de escala los momentos dependen de <span class="math">\(\gamma\)</span>, de modo que si <span class="math">\(\gamma \geq 3\)</span> ambos momentos son finitos y el contagio se comporta de manera similar a la red aleatoria.</li>
<li>Sin embargo, si <span class="math">\(\gamma &lt; 3\)</span> en una red libre de escala entonces <span class="math">\(\langle k^2 \rangle\)</span> diverge y <span class="math">\(\tau \to 0\)</span>, lo que implica que el periodo de incubación característico desaparece y la epidemia es instantánea. Esto se debe a que los hubs son los primeros nodos en infectarse y, dada su alta conectividad, infectan más rápidamente a la mayoría de los nodos.</li>
</ul>
<h4 id="modelos-sis" class="unnumbered">Modelos SIS</h4>
<p>En los modelos con recuperación la ecuación diferencial de la tasa de infectados de grado <span class="math">\(k\)</span> es algo distinta:</p>
<p><span class="math">\[\frac{di_k}{dt} = \beta (1-i_k(t))k \Theta_k(t) _ \mu \cdot i_k(t)\]</span></p>
<p>Donde vemos que aparece la tasa de recuperación <span class="math">\(\mu\)</span>. Esto hace que el periodo de incubación <span class="math">\(\tau\)</span> sea algo distinto:</p>
<p><span class="math">\[\tau^{SIS} = \frac{\langle k \rangle}{\beta \langle k^2 \rangle - \mu \langle k \rangle}\]</span></p>
<p>Para un tamaño suficientemente grande de <span class="math">\(\mu\)</span> el tiempo característico se hace negativo e <span class="math">\(i_k\)</span> decrece exponencialmente. Sin embargo, depende de la topología de la red. En lugar de solo <span class="math">\(\mu\)</span> vamos a tener en cuenta el ritmo reproductivo básico <span class="math">\(\lambda = \frac{\beta}{\mu}\)</span>, que es representativo de la enfermedad (o de lo que queremos difundir) y que cuanto mayor sea más probable es que la enfermedad se propague. Sin embargo, ¿cuál es el mínimo valor necesario para que se propague la enfermedad? Esto es lo que se conoce como el <strong>umbral epidemiológico</strong> (<span class="math">\(\lambda_C\)</span>)y también dependerá de la estructura de la red.</p>
<ul>
<li>Para una red aleatoria tenemos que el umbral epidemiológico es:</li>
</ul>
<p><span class="math">\[\lambda_C = \frac{1}{\langle k \rangle +1}\]</span></p>
<p>Esto implica que siempre va a ser distinto de cero y que, dependiendo del valor de <span class="math">\(\lambda\)</span>, podemos conseguir que la epidemia alcance un estado endémico (si <span class="math">\(\lambda &gt; \lambda_C\)</span>) o que la epidemia desaparezca (si <span class="math">\(\lambda &lt; \lambda_C\)</span>).</p>
<ul>
<li>Para una red libre de escala tenemos que el umbral epidemiológico es:</li>
</ul>
<p><span class="math">\[\lambda_C = \frac{\langle k \rangle}{\langle k^2 \rangle}\]</span></p>
<p>Esto implica que para <span class="math">\(\gamma &lt; 3\)</span> el segundo momento diverge y, por tanto, el umbral epidemiológico desaparece. Esto implica que incluso las enfermedades que son difíciles de transmitir se pueden propagar en una red libre de escala. De nuevo, esto es consecuencia de los hubs: en el momento en el que la enfermedad infecta un hub puede pasar a un número muy grande de nodos, de modo que persiste en la población.</p>
<p>Para el modelo SIR los resultados son similares. En la siguiente tabla se resumen las principales conclusiones extraídas:</p>
<div class="figure">
<img src="../images/tema08/resumenModelosRedes.png" alt="Resumen de los modelos epidémicos en redes (Network Science, cap. 10)" /><p class="caption">Resumen de los modelos epidémicos en redes (Network Science, cap. 10)</p>
</div>
<h2 id="modelos-de-contagio-complejo"><span class="header-section-number">0.3</span> Modelos de contagio complejo</h2>
<p>Hasta ahora hemos estudiado modelos de contagio simple, en los que el contagio se produce uno a uno, es decir, basta con que un vecino de un determinado nodo esté infectado para que se pueda quedar infectado. Sin embargo, en algunos procesos como el contagio social o inducir a comprar un producto, no basta con que uno de mis vecinos tenga una determinada “opinión” para cambiar la mía sino que es necesario sea una fracción de mis vecinos. Esto es lo que se conoce como contagio complejo o <strong>contagio basado en umbrales</strong>.</p>
<p>Existen principalmente dos formas de definir el contagio basado en umbrales:</p>
<ul>
<li>Mediante un umbral <span class="math">\(k\)</span> que define el número de vecinos que han de estar infectados para que un nodo quede infectado. El modelo de contagio simple es un modelo basado en este tipo de umbral con <span class="math">\(k=1\)</span>.</li>
<li>Mediante una proporción <span class="math">\(p\)</span> que define el porcentaje de vecinos que han de estar infectados para que un nodo quede infectado.</li>
</ul>
<p>En este caso, la propagación se comporta de una manera bastante distinta que depende principalmente de:</p>
<ul>
<li>La estructura de la red.</li>
<li>El valor del umbral utilizado.</li>
<li>La elección de los nodos inicialmente infectados.</li>
</ul>
<p>A modo de ejemplo podemos ver la diferencia entre un contagio simple y uno complejo en un solo paso de simulación en la figura que aparece a continuación. Como se puede ver, el contagio simple se propaga de una manera mucho más rápida. Además, el contagio simple permite llegar a toda la red (en la Figura, en <span class="math">\(t=2\)</span> todos los nodos estarían contagiados). Sin embargo, el contagio complejo es mucho más lento y puede verse detenido rápidamente debido a la falta de conexiones (en la Figura, en <span class="math">\(t=2\)</span> solo J sería infectado y la infección se detendría).</p>
<div class="figure">
<img src="../images/tema08/contagioComplejo.png" alt="Contagio simple vs. Contagio complejo" /><p class="caption">Contagio simple vs. Contagio complejo</p>
</div>
<p>Podemos ver también que los modelos de contagio complejos se comportan de manera distinta en los modelos de redes vistos:</p>
<ul>
<li>En una red de mundo pequeño (Watts-Strogatz) los enlaces débiles o atajos ya no funcionan como medio para aumentar la velocidad de propagación. Podemos ver este comportamiento en la simulación del modelo de contagio complejo en una red de mundo pequeño que hemos dejado en el Campus Virtual.</li>
<li>En una red libre de escala, los hubs pierden importancia en la velocidad de propagación ya que, aunque llegan a muchos nodos, solo ellos no son capaces de propagar la enfermedad.</li>
<li>En una red aleatoria la propagación depende muy decisivamente de los nodos inicialmente infectados.</li>
</ul>
<h2 id="modelos-de-difusión-de-opinión-en-redes"><span class="header-section-number">0.4</span> Modelos de difusión de opinión en redes</h2>
<p>Aunque el modelo de contagio complejo basado en umbrales puede ser adecuado para algunos procesos de difusión, existen otros modelos más adecuados para modelar los procesos de difusión de opinión en redes.</p>
<p>Los modelos basados en <em>efectos de beneficio directo</em> se basan en que la adopción de una opinión se ve reforzada por el beneficio que se consigue por la adopción de dicha opinión. Además, estos beneficios son mayores cuantos más vecinos adopten esa misma opinión.</p>
<h3 id="juego-de-coordinación-en-redes"><span class="header-section-number">0.4.1</span> Juego de coordinación en redes</h3>
<p>Este modelo se puede simular mediante el <strong>juego de coordinación en una red</strong>. En este modelo, cada nodo tiene que elegir entre dos posibles opciones (que llamaremos A y B) y existe un beneficio si dos nodos conectados eligen la misma opción. De una manera más formal definimos el modelo de la siguiente forma:</p>
<ul>
<li>Si dos nodos eligen la opción A entonces obtienen un beneficio de valor <span class="math">\(a&gt;0\)</span>.</li>
<li>Si dos nodos eligen la opción B entonces obtienen un beneficio de valor <span class="math">\(b&gt;0\)</span></li>
<li><span class="math">\(p\)</span> es la fracción de vecinos que adoptan la opción A, mientras que <span class="math">\((1-p)\)</span> es la fracción de vecinos que adoptan la opción B.</li>
<li>Para un nodo de grado <span class="math">\(k\)</span> podemos decir que este nodo adopta la opción A si:</li>
</ul>
<p><span class="math">\[p \cdot k \cdot a \geq (1-p) \cdot k \cdot b\]</span></p>
<p>Esto se puede convertir en un modelo de difusión basado en umbrales, donde el umbral <span class="math">\(q\)</span> tiene el valor:</p>
<p><span class="math">\[q = \frac{b}{a+b}\]</span></p>
<p>Es decir, si tenemos una proporción de <span class="math">\(q\)</span> vecinos que han adoptado la opción A entonces elegiremos la opción A. En otro caso, nos es más beneficioso adoptar la opción B.</p>
<p>El sistema tiene dos estados de equilibrio posibles: o todos adoptan la opción A o, por el contrario, todos adoptan la opción B. Sin embargo, la pregunta es qué pasaría si, partiendo de un estado de equilibrio, algunos nodos (adoptadores iniciales) cambian su opción de manera aleatoria. Queremos saber si se va a producir una propagación en cascada de este comportamiento o si, por el contrario, este comportamiento se detendrá en algún momento o no se propagará.</p>
<p>Para ello vamos a proponer el siguiente ejemplo: tenemos una red en la que todos los nodos han adoptado la opción B. Tenemos una opción A da un beneficio de <span class="math">\(a=3\)</span> mientras que la opción B da un beneficio de <span class="math">\(b=2\)</span>. Se puede ver que en estas circunstancias, el beneficio de adoptar A es <span class="math">\(\frac{3}{2}\)</span> veces mayor que adoptar B. Los nodos cambiarán de B a A si al menos <span class="math">\(q = \frac{2}{3+2} = \frac{2}{5}\)</span> de los vecinos prefieren la opción A.</p>
<p>En una red simple como la de la figura podemos ver que la cascada puede llegar a toda la red. En esta figura hemos supuesto que la opción B es “jugar al fútbol” mientras que la opción A es “jugar al baloncesto” y que 2 nodos empiezan a jugar al baloncesto debido a factores externos (por ejemplo, que una empresa les haya sobornado con unos pares de zapatillas para jugar al baloncesto).</p>
<div class="figure">
<img src="../images/tema08/coordinacion1.png" alt="Juego de coordinación en la que la cascada llega a todos los nodos (q = \frac{2}{5})" /><p class="caption">Juego de coordinación en la que la cascada llega a todos los nodos (<span class="math">\(q = \frac{2}{5}\)</span>)</p>
</div>
<p>Sin embargo, no podemos suponer que la cascada de adopciones va a llegar a toda la red (<em>cascada completa</em>) sino que hay ocasiones en la que la cascada se detiene aunque aún hay nodos que siguen manteniendo la opción B. En el siguiente ejemplo podemos ver que la cascada de adopciones se detiene tras tres pasos.</p>
<div class="figure">
<img src="../images/tema08/coordinacion2.png" alt="Juego de coordinación en la que la cascada se detiene tras tres pasos antes de alcanzar a todos los nodos (q = \frac{2}{5})" /><p class="caption">Juego de coordinación en la que la cascada se detiene tras tres pasos antes de alcanzar a todos los nodos (<span class="math">\(q = \frac{2}{5}\)</span>)</p>
</div>
<p>Este modelo puede ser utilizado para simular posibles campañas de marketing viral y ayudar a tomar decisiones en cuanto a qué nodos hay que influir y cuánto hay que incrementar el beneficio (por ejemplo, la calidad de un producto) para que se produzca una cascada de difusión aceptable.</p>
<p>Visto el resultado inicial, la primera opción que se puede tomar es modificar el beneficio <span class="math">\(a\)</span>. En el ejemplo anterior, si aumentamos <span class="math">\(a =4\)</span> entonces el umbral <span class="math">\(q\)</span> baja a <span class="math">\(q=\frac{1}{3}\)</span> y se puede ver que la cascada de adopciones alcanza toda la red. De aquí podemos concluir que la adopción de una nueva opción no solo depende de la estructura de la red sino que también depende de las diferencias de beneficios entre la opción A y la opción B.</p>
<p>La segunda opción a tomar, supuesto que no se puede modificar el beneficio <span class="math">\(a\)</span>, está relacionado con decidir a qué nodos de la red es necesario influir para hacer que la cascada de adopciones alcance al mayor número posible de nodos en la red. La idea es elegir el menor número de nodos posible y elegirlos adecuadamente para conseguir que la cascada se propague. La elección de estos nodos es fundamental en la cascada de adopciones y está basada intrínsecamente en su posición dentro de la red.</p>
<p>Si tomamos de nuevo el ejemplo de la red anterior, si mantenemos el beneficio inicial <span class="math">\(a=3\)</span> y comenzamos la propagación cambiando de estado a los nodos 12 y 13 entonces conseguiremos que todos los nodos del 11 al 17 cambien de estado. Sin embargo, si seleccionamos los nodos 11 y 14 entonces no conseguiremos que se propague ningún cambio de estado por la red.</p>
<p>Podemos ver más en detalle este comportamiento utilizando el <a href="http://www.ladamic.com/netlearn/NetLogo4/DiffusionCompetition.html">Modelo de Difusión</a> que está disponible en la web, seleccionando distintos nodos iniciales y viendo cómo la propagación se comporta de manera distinta en unos y otros.</p>
<p>Así mismo, este modelo nos permite comprobar que la estructura de la red también tiene una fuerte influencia en los procesos de difusión. En particular, la existencia de comunidades tiene una especial importancia en los procesos de difusión. Las comunidades tienen tres papeles fundamentales dentro de estos procesos de difusión:</p>
<ul>
<li>Las comunidades permiten que se produzca la propagación de los modelos basados en umbrales. La existencia de componentes con alta conectividad posibilitan la propagación en este tipo de modelos. Sin la presencia es ellas no sería posible que se produjese este tipo de propagación.</li>
<li>Las comunidades sirven de barrera para la difusión, de modo que crean “bolsas aisladas” que no permiten la adopción de ideas externas a la comunidad. Cuando una cascada alcanza una comunidad (un agrupamiento de nodos de alta densidad) ésta se detendrá ya que no podrá entrar dentro de dicha comunidad.</li>
<li>Lo anterior permite que distintas opiniones puedan convivir en la misma red, debido a la existencia de comunidades con distintas opiniones en distintos lugares de dicha red.</li>
</ul>
<h3 id="otros-modelos-complejos-de-difusión"><span class="header-section-number">0.4.2</span> Otros modelos complejos de difusión</h3>
<h4 id="nodos-bilingües." class="unnumbered">Nodos bilingües.</h4>
<p>Existen modelos de adopción de opiniones más complejos. Uno de ellos es el que permite la existencia de <strong>nodos bilingües</strong>, es decir, nodos que pueden adoptar la opción A y B simultáneamente pero con una penalización <span class="math">\(c\)</span>.</p>
<p>En este caso, estos nodos pueden conseguir que la opinión minoritaria persista en la red a pesar en condiciones en las que la opinión minoritaria desaparecería. A modo de ejemplo podemos utilizar una red lineal y observar el comportamiento de la misma con y sin nodos bilingües. Sin ellos, la opción con menor beneficio siempre termina por desaparecer de la red. Sin embargo, la presencia de nodos bilingües permite que dicha opción “sobreviva” entre pares de estos nodos. Podemos observar este comportamiento utilizando la simulación del “Modelo de cascasda” disponible en el Campus Virtual.</p>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>En inglés, el estado es <em>removed</em>, que es más adecuado para describir el proceso.<a href="#fnref1">↩</a></p></li>
<li id="fn2"><p>Desde el punto de vista de implementación, es recomendable tener en listas separadas los nodos infectados y los susceptibles (y recuperados) no tener que procesar todos los nodos (solo los infectados) y así optimizar el proceso de simulación.<a href="#fnref2">↩</a></p></li>
<li id="fn3"><p>Todos los modelos de NetLogo que se ven en este tema están disponibles en el Campus Virtual.<a href="#fnref3">↩</a></p></li>
</ol>
</div>
</body>
</html>
